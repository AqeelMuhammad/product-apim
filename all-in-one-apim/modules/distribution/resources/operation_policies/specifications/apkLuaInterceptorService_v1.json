{
  "category": "Mediation",
  "name": "apkLuaInterceptorService",
  "version": "v1",
  "displayName": "Lua Extension Service",
  "description": "This policy allows you to call an Lua extension service for a request message",
  "policyAttributes": [
    {
      "name": "policyName",
      "displayName": "Policy Name",
      "description": "Name for the Lua policy(Must be unique within the gateway)",
      "validationRegex": "^([a-zA-Z_\\:][a-zA-Z\\d_\\-\\ ]*)$",
      "type": "String",
      "required": true
    },
    {
      "name": "sourceCode",
      "displayName": "Source Code",
      "description": "The source code as an inline string.",
      "validationRegex": "^.+$",
      "type": "String",
      "required": false
    },
    {
      "name": "sourceCodeRef",
      "displayName": "Source Code Reference",
      "description": "This is the source code specified as a local object reference",
      "validationRegex": "^.+$",
      "type": "String",
      "required": false
    },
    {
      "name": "mountInConfigMap",
      "displayName": "Mount In ConfigMap",
      "description": "Specifies that when both source code and a reference are provided, a ConfigMap is created with the reference name for reuse across the system.",
      "validationRegex": "^(true|false)$",
      "type": "Boolean",
      "defaultValue": false,
      "required": false
    }
  ],
  "applicableFlows": [
    "request",
    "response"
  ],
  "supportedGateways": [
    "ChoreoConnect"
  ],
  "supportedApiTypes": [
    "HTTP"
  ]
}
